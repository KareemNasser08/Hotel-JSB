<app-navbar />
<section>
    <div class="container py-5">
        <div class="row">
            <div>
                <div class="col-md-8 d-flex justify-content-between align-items-center">
                    <div>
                        <p class="h4 text-body-tertiary"><span type="button" routerLink="/landing">Home / </span><span
                                style="color: #152C5B;">Room Details</span></p>
                    </div>
                    <div class="flex-column d-flex justify-content-center align-items-center">
                        <h2 class="fs-1 fw-bold" style="color: #152C5B;">Village Angga</h2>
                        <span class="text-body-tertiary">Bogor, Indonesia</span>
                    </div>

                </div>
                <div class="row my-5" style="height: 500px;">
                    <div class="col-md-7 " *ngFor="let adimg of adDetails?.room?.images.slice(0,1)">
                        <img [src]="adimg" alt="" class="w-100 h-100 rounded-2">
                    </div>
                    <div class="col-md-5  rounded-2" *ngFor="let adimg of adDetails?.room?.images.slice(1,3)">
                        <div style="height: 250px;">
                            <img [src]="adimg" alt="" class="w-100 h-100 rounded-2">
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-md-7 ">
                        <div>
                            <p>Minimal techno is a minimalist subgenre of techno music. It is characterized by a
                                stripped-down aesthetic that exploits the use of repetition and understated development.
                                Minimal techno is thought to have been originally developed in the early 1990s by
                                Detroit-based producers Robert Hood and Daniel Bell.</p>
                            <p class="my-5">
                                Such trends saw the demise of the soul-infused techno that typified the original Detroit
                                sound. Robert Hood has noted that he and Daniel Bell both realized something was missing
                                from techno in the post-rave era.
                            </p>
                            <p>
                                Design is a plan or specification for the construction of an object or system or for the
                                implementation of an activity or process, or the result of that plan or specification in
                                the
                                form of a prototype, product or process. The national agency for design: enabling
                                Singapore
                                to use design for economic growth and to make lives better.
                            </p>
                        </div>
                        <div>
                            <div class="d-flex flex-row text-center mb-4">
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-bed text-info"></i>
                                    <p><span class="h4 mx-2">2</span>bedroom</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-people-roof text-info"></i>
                                    <p><span class="h4 mx-2">1</span>living room</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-restroom text-info"></i>
                                    <p><span class="h4 mx-2">3</span>bathroom</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-utensils text-info"></i>
                                    <p><span class="h4 mx-2">1</span>dining room</p>
                                </div>
                            </div>
                            <div class="d-flex flex-row text-center">
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-wifi text-info"></i>
                                    <p><span class="h4 mx-2">10</span> mbp/s</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-fan text-info"></i>
                                    <p><span class="h4 mx-2">3</span>unit ready</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-door-closed text-info"></i>
                                    <p><span class="h4 mx-2">2</span>refigrator</p>
                                </div>
                                <div class=" m-3 h6">
                                    <i class="fa-solid fa-tv text-info"></i>
                                    <p><span class="h4 mx-2">3</span>television</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 card ms-5">
                        <div class="my-5 ms-5">
                            <h4 class="fs-3  " style="color: #152C5B;">start booking</h4>
                            <h4 class="text-body-tertiary fs-3"><span style="color: #53CDB5;"
                                    class="me-3 fw-bold">{{adDetails?.room?.price |
                                    currency:'USD'}}</span>per
                                night</h4>
                            <small class="text-danger">Discount <span class="fs-5 mx-2">{{adDetails?.room?.discount |
                                    currency :'USD': "symbol":'1.0-0'}}</span>off</small>
                        </div>
                        <div class="my-5 ms-5">
                            <p class="fs-5 mx-2" style="color: #152C5B;">pick a date</p>
                            <form class="w-100 my-3" [formGroup]="BookingForm">
                                <p-calendar placeholder="select start date - end date" formControlName="date"
                                    [(ngModel)]="rangeDates" selectionMode="range" [showIcon]="true"></p-calendar>
                            </form>
                            <p class="text-body-tertiary">you will pay <span class="fs-5 mx-2"
                                    style="color: #152C5B;">{{adDetails?.room?.price/2 |
                                    currency:'USD':'symbol':'1.0-0'}}</span>per <span class="fs-5 mx-2"
                                    style="color: #152C5B;">2
                                    person</span></p>
                            <div class="my-4 ">
                                <p-button (onClick)="Booking(BookingForm)">Continue book</p-button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card my-5 p-4">
                    <div class="row ">
                        <div class="col-md-5 ps-5">
                            <h4 style="color: #152C5B;" class="fs-4">Rate</h4>

                            <form [formGroup]="ratingForm" (ngSubmit)="rating(ratingForm)">
                                <p-rating formControlName="ratings" [cancel]="false"></p-rating>


                                <h4 style="color: #152C5B;" class="my-4 fs-4">Message</h4>
                                <textarea rows="5" cols="50" pInputTextarea formControlName="reviews"
                                    placeholder="Add your opinion"></textarea>
                                <div class="my-4 col d-flex justify-content-between">
                                    <p-button type="submit">Rate</p-button>
                                    <a type="button" class="mt-4" (click)="getAllReviews(roomid)">Show all reviews</a>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-2">
                            <p-divider layout="vertical"></p-divider>
                        </div>
                        <div class="col-md-5">

                            <h4 style="color: #152C5B;" class="mb-5 fs-4">Add your comment</h4>
                            <form [formGroup]="commentForm" (ngSubmit)="commenting(commentForm)">
                                <textarea class="mt-5" rows="5" cols="50" pInputTextarea placeholder="Add your comment"
                                    formControlName="mycomment"></textarea>
                                <div class="my-4 col d-flex justify-content-between">
                                    <p-button type="submit">Comment</p-button>
                                    <a type="button" class="mt-4" (click)="getAllComments(roomid)">Show all comments</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="row">
                        <div class="col-md-3">
                            <h3 class="fs-3 fw-bold"><span style="color: #3252DF;">Stay</span>cation.</h3>
                            <p class="text-body-tertiary">We kaboom your beauty holiday
                                instantly and memorable.</p>
                        </div>
                        <div class="col-md-3">
                            <h3 style="color: #152C5B;">For Beginners</h3>
                            <p class="text-body-tertiary">New Account</p>
                            <p class="text-body-tertiary">Start Booking a Room</p>
                            <p class="text-body-tertiary">Use Payments</p>
                        </div>
                        <div class="col-md-3">
                            <h3 style="color: #152C5B;">Explore Us</h3>
                            <p class="text-body-tertiary">Our Careers</p>
                            <p class="text-body-tertiary">Privacy</p>
                            <p class="text-body-tertiary">Terms & Conditions</p>
                        </div>
                        <div class="col-md-3">
                            <h3 style="color: #152C5B;">Connect Us</h3>
                            <p class="text-body-tertiary">supportstaycation.id</p>
                            <p class="text-body-tertiary">021 - 2208 - 1996</p>
                            <p class="text-body-tertiary">Staycation, Kemang, Jakarta</p>
                        </div>
                    </div>
                    <div class="row text-center mt-5 ">
                        <p>Copyright 2019 • All rights reserved • Staycation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div>
            <p-dialog header="Room reviews" [(visible)]="visibleReviewDialog" [style]="{width: '50vw'}">
                <div *ngFor="let review of allRoomReviews">
                    <div class="row justify-content-between align-items-center my-3">
                        <div class="col-md-11 ">
                            <div class="d-flex flex-row align-items-center">
                                <img [src]="review.user.profileImage" alt="" class="  rounded-circle"
                                    style="width: 60px;">
                                <h3 class="fs-3 m-2 ">{{review.user.userName}}</h3>
                            </div>

                        </div>
                        <div class="col-md-1 text-end">
                            <i class="fa-solid fa-pen-to-square text-info"></i>
                        </div>
                    </div>
                    <div class="row justify-content-between align-items-center my-3">
                        <div class="col-md-10 ">

                            <h3 class="fs-5 m-2 text-dark ">{{review.review}}</h3>


                        </div>
                        <div class="col-md-2">
                            <p-rating [(ngModel)]="review.rating" [cancel]="false"></p-rating>
                        </div>
                    </div>
                    <div class="text-end text-body-tertiary">
                        <p> {{review.updatedAt | date:'dd/MM/yy'}}</p>
                    </div>
                    <hr>
                </div>
            </p-dialog>
        </div>


        <div>
            <p-dialog header="Room comments" [(visible)]="visibleCommentDialog" [style]="{width: '50vw'}">
                <div *ngFor="let comment of allRoomComments">
                    <div class="row justify-content-between align-items-center my-3">
                        <div class="col-md-11 ">
                            <div class="d-flex flex-row align-items-center">
                                <img [src]="comment.user.profileImage" alt="" class=" rounded-circle "
                                    style="width: 60px;">
                                <h3 class="fs-3 m-2 ">{{comment.user.userName}}</h3>
                            </div>

                        </div>
                        <div class="col-md-1 text-end">
                            <i class="fa-solid fa-pen-to-square text-info"></i>
                            <a type="button" (click)="DeleteComment(comment._id)"><i
                                    class="fa-solid fa-trash text-danger mx-2"></i></a>
                        </div>
                    </div>
                    <div class="row justify-content-between align-items-center my-3">
                        <div class="col-md-10 ">

                            <h3 class="fs-5 m-2 text-dark ">{{comment.comment}}</h3>


                        </div>
                    </div>
                    <div class="text-end text-body-tertiary">
                        <p> {{comment.updatedAt | date:'dd/MM/yy'}}</p>
                    </div>
                    <hr>
                </div>
            </p-dialog>
        </div>
    </div>
</section>