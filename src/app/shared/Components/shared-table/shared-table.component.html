<div class="card">
  <p-table 
    #dt 
    [columns]="columnList" 
    [value]="dataArray" 
    dataKey="id" 
    [rowHover]="true" 
    [rows]="5"
    [showCurrentPageReport]="true" 
    [rowsPerPageOptions]="[5, 10, 25, 50]" 
    [paginator]="true"
    >
    
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{ col.headerTitle }}
        </th>
      </tr>
    </ng-template>
    
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        <td *ngFor="let col of columns">
          <ng-container [ngSwitch]="col.type">
            <span *ngSwitchCase="'string'">{{ rowData[col.fieldKey] }}</span>
            <span *ngSwitchCase="'arrayOfString'">{{ rowData[col.fieldKey].join(', ') }}</span>
            <ng-container *ngSwitchCase="'arrayOfObject'">
              <ng-container *ngFor="let item of rowData[col.fieldKey]">
                <span>{{' '}}</span><p-tag severity="info" [value]="item[col.objectKey]"></p-tag>
              </ng-container>
            </ng-container>
          </ng-container>
          <ng-container *ngIf="col.actions">

            <button mat-icon-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            
            <mat-menu #menu="matMenu">
              <button mat-menu-item *ngFor="let action of col.actions" (click)="handleAction(action.key, rowData)">
                <mat-icon>{{ action.icon}}</mat-icon>
                {{action.key | titlecase}}
              </button>
            </mat-menu>
          </ng-container>
        </td>



      </tr>
    </ng-template>
  </p-table>
</div>